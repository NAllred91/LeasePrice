{"version":3,"sources":["getRawData.js","utils.js","App.js","index.js"],"names":["Promise","resolve","reject","fetch","then","result","json","toc","dataPromises","timestamps","map","timestamp","all","data","catch","err","getAllUnits","units","window","forEach","d","unit","unit_number","Object","keys","getAllUnitsArea","area","getAllAvailableUnits","length","getUnitsData","date","unitData","u","find","i","price","App","props","state","hasData","moveInDate","getRawData","allUnitsArea","allUnits","allAvailableUnits","setState","this","value","onChange","e","target","style","height","float","src","onClick","_","reverse","getUnitMostRecentPrice","type","checked","includes","newUnits","push","uniq","without","filter","name","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6541ac11.chunk.js","sourcesContent":["export default () => new Promise((resolve, reject) => {\n    fetch('/toc.json').then(result => {\n        result.json().then(toc => {\n            var dataPromises = toc.timestamps.map(timestamp => {\n                return fetch('/' + timestamp + '.json').then(result => result.json())\n            })\n\n            Promise.all(dataPromises).then(data => {\n                resolve(data)\n            }).catch(err => reject(err))\n        })\n    })\n})","import _ from 'lodash'\n\nvar getAllUnits = () => {\n    var units = {}\n    window.data.forEach((d) => d.data.forEach(unit => units[unit.unit_number] = true))\n\n    return Object.keys(units)\n}\n\nvar getAllUnitsArea = () => {\n    var units = {}\n    window.data.forEach((d) => d.data.forEach(unit => units[unit.unit_number] = unit.area))\n\n    return units\n}\n\nvar getAllAvailableUnits = () => {\n    return window.data[window.data.length - 1].data.map(unit => unit.unit_number)\n}\n\nvar getUnitsData = (unit, date) => {\n    var unitData = {}\n    window.data.forEach((d) => {\n        var u = d.data.find((i) => i.unit_number === unit)\n        if(u) {\n            unitData[d.date] = u.price[date]\n        }\n    })\n\n    return unitData\n}\n\nvar getUnitMostRecentPrice = (unit, date) => {\n    var value\n    _.find(_.reverse(window.data), (d) => {\n        var data = d.data.find((i) => i.unit_number === unit)\n\n        if(data) {\n            value = data.price[date]\n            return data.price[date]\n        }\n    })\n\n    return value\n}\n\n\nexport {getAllUnits, getAllAvailableUnits, getAllUnitsArea, getUnitsData, getUnitMostRecentPrice}","import React from 'react';\nimport './App.css';\nimport getRawData from './getRawData'\nimport _ from 'lodash'\nimport { LineChart } from 'react-chartkick'\nimport 'chart.js'\nimport {getAllUnits, getUnitsData, getAllUnitsArea, getAllAvailableUnits, getUnitMostRecentPrice} from './utils'\n\nclass App extends React.Component {\n  state = {\n    hasData: false,\n    moveInDate: 13,\n    units: [],\n  }\n\n  constructor(props) {\n    super(props)\n    getRawData().then(data => {\n      window.data = data\n      window.allUnitsArea = getAllUnitsArea()\n      window.allUnits = getAllUnits()\n      window.allAvailableUnits = getAllAvailableUnits()\n      this.setState({\n        hasData: true,\n        units: getAllUnits()\n      })\n    })\n  }\n\n  render() {\n    if(!this.state.hasData) return <div>Loading....</div>\n    return (\n      <div>\n        February <select value={this.state.moveInDate} onChange={(e) => {\n          this.setState({moveInDate: e.target.value})\n        }}>\n          {[4, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27].map(i => <option value={i}>{i}</option>)}\n        </select>\n        <img style={{\n          height: '460px',\n          float: 'right',\n          'margin-right': '30%'\n        }}src={'map.png'}></img>\n\n        <div>\n          <button onClick={() => {\n            if(this.state.units.length) {\n              this.setState({units: []})\n            }\n            else {\n              this.setState({\n                units: getAllUnits()\n              })\n            }\n          }}>Toggle</button>\n          <div>Available:</div>\n          {window.allAvailableUnits.map(unit => (\n            <div>{unit + ': ' + window.allUnitsArea[unit] + ' : $' + (getUnitMostRecentPrice(unit, this.state.moveInDate) || '---')}\n              <input type='checkbox' checked={this.state.units.includes(unit)} onChange={(e) => {\n                var newUnits = this.state.units\n                if(e.target.checked) {\n                  newUnits.push(unit)\n                  newUnits = _.uniq(newUnits)\n                }\n                else {\n                  newUnits = _.without(newUnits, unit)\n                }\n\n                this.setState({units: newUnits})\n              }}></input>\n            </div>\n          ))}\n          <div>Unavailable:</div>\n          {window.allUnits.filter(unit => !window.allAvailableUnits.includes(unit)).map(unit => (\n            <div>{unit + ': ' + window.allUnitsArea[unit]}\n            <input type='checkbox' checked={this.state.units.includes(unit)} onChange={(e) => {\n                var newUnits = this.state.units\n                if(e.target.checked) {\n                  newUnits.push(unit)\n                  newUnits = _.uniq(newUnits)\n                }\n                else {\n                  newUnits = _.without(newUnits, unit)\n                }\n\n                this.setState({units: newUnits})\n              }}></input>\n            </div>\n          ))}\n        </div>\n\n\n        <LineChart\n          data={this.state.units.map(unit => ({\n            name: unit,\n            data: getUnitsData(unit, this.state.moveInDate)\n          }))}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}